@page "/logout"

@using HackerNewsDashboard.Client.Services
@using HackerNewsDashboard.Common.DTO
@inject IAuthService AuthService
@inject NavigationManager NavigationManager

<PageTitle>Logout</PageTitle>
<h1>Logout</h1>

@if (!string.IsNullOrEmpty(error))
{
    <h3>@error</h3>
}

<p>Are you sure you want to log out? If so, please press the button below and close all open tabs.</p>
<button @onclick="HandleLogout">Logout</button>

@code {
    string error = "";

    async Task HandleLogout()
    {
        await AuthService.Logout();

        NavigationManager.NavigateTo("/");
    }
}